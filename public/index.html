<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hearthwatch — Disaster Map</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script defer src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header text-white text-center p-3">
    <div class="container">
      <h1 class="display-6 mb-0">ResQNet</h1>
      <p class="lead mb-0">Real reports. Local help. Live map.</p>
    </div>
  </header>

  <div class="container-fluid mt-3">
    <div class="row g-3">
      <div class="col-lg-8">
        <div id="map" class="map-card"></div>
        <div id="toast-area" class="toast-area"></div>
      </div>

      <div class="col-lg-4">
        <div class="card mb-3">
          <div class="card-body">
            <h5>Report an Incident</h5>

            <form id="pin-form">
              <input id="loc-title" class="form-control mb-2" placeholder="Short title (optional)" maxlength="100"/>

              <label for="mainCategory">Main Category:</label>
              <select id="mainCategory" onchange="updateSubTypes()" class="form-select mb-2" required>
                <option value="">--Select--</option>
                <option value="Hazard">Hazard</option>
                <option value="Impact">Impact</option>
                <option value="Resource">Resource</option>
                <option value="Alert">Alert</option>
              </select>

              <label for="subType">Sub Type:</label>
              <select id="subType" class="form-select mb-2" required>
                <option value="">--Select a category first--</option>
              </select>

              <div class="mb-2">
                <input id="coords" class="form-control" readonly placeholder="Click map or use location" />
              </div>

              <div class="mb-2">
                <input id="image-file" type="file" accept="image/*" class="form-control form-control-sm" />
                <div class="form-text small">Max 2MB. Optional.</div>
              </div>

              <div class="d-grid gap-2">
                <button id="use-location" type="button" class="btn btn-outline-light btn-sm">Use my location</button>
                <button class="btn btn-primary" type="submit">Send report</button>
              </div>
            </form>
          </div>
        </div>

        <div class="card mb-3">
          <div class="card-body">
            <h6>Nearby Alerts</h6>
            <div class="mb-2">
              <select id="filter-type" class="form-select">
                <option value="">All categories</option>
                <option value="Hazard">Hazard</option>
                <option value="Impact">Impact</option>
                <option value="Resource">Resource</option>
                <option value="Alert">Alert</option>
              </select>
            </div>
            <div id="alerts" class="list-group"></div>
            <div class="mt-3 small text-muted" id="area-summary"></div>
            <div class="mt-2">
              <button id="load-more" class="btn btn-sm btn-outline-secondary w-100">Load more</button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-body small text-muted">
            Tip: Click the map to set a location. Use the + and - on the map to zoom. Votes help verify reports.
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer class="text-center small mt-3 mb-4 text-muted">Disaster Map · prototype · 2025</footer>

  <!-- modules -->
  <script type="module" src="js/main.js"></script>
</body>
</html>
